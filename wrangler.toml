name = "durable-wallets"
main = "src/index.ts"
compatibility_date = "2024-10-11"

[durable_objects]
bindings = [
  { name = "WALLET", class_name = "WalletDurableObject" },
  { name = "WALLET_POOL", class_name = "WalletPoolDurableObject" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["WalletDurableObject", "WalletPoolDurableObject"]

[vars]
CHAIN_ID = "84532"
# MAX_SUBMITTED = "3"                # Max txs in flight per wallet (default: 3)
# POLL_INTERVAL = "2000"              # Alarm interval in ms (default: 2000)
# TX_RETENTION = "50"                 # Number of confirmed txs to keep (default: 50)
# MIN_BALANCE_WEI = "100000000000000" # Min wallet balance in wei before disabling (default: 0.0001 ETH)

# Set these via wrangler secret put:
# wrangler secret put RPC_URL
# wrangler secret put PRIVATE_KEYS  (comma-separated: 0xabc...,0xdef...)
